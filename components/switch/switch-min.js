const mediaSwitches=document.querySelectorAll('media-switch');const label=document.createElement('label');label.classList.add('switch');const span=document.createElement('span');span.classList.add('slider');const observerConfig={attributes:!0,attributeFilter:['disabled','checked']};const observerCallback=(mutationsList,observer)=>{mutationsList.forEach(mutation=>{const mediaSwitch=mutation.target;if(mutation.attributeName==='disabled'){const clonedLabel=mediaSwitch.querySelector('label.switch');if(mediaSwitch.hasAttribute('disabled')){clonedLabel.style.opacity='0.25';clonedLabel.style.pointerEvents='none'}else{clonedLabel.style.opacity='';clonedLabel.style.pointerEvents=''}}
if(mutation.attributeName==='checked'){const clonedInput=mediaSwitch.querySelector('input[type="checkbox"]');if(mediaSwitch.hasAttribute('checked')){clonedInput.checked=!0}else{clonedInput.checked=!1}}})};mediaSwitches.forEach(mediaSwitch=>{const clonedLabel=label.cloneNode(!0);const clonedSpan=span.cloneNode(!0);const clonedInput=document.createElement('input');clonedInput.setAttribute('type','checkbox');clonedLabel.appendChild(clonedInput);clonedLabel.appendChild(clonedSpan);mediaSwitch.appendChild(clonedLabel);if(mediaSwitch.hasAttribute('disabled')){clonedLabel.style.opacity='0.25';clonedLabel.style.pointerEvents='none'}
if(mediaSwitch.hasAttribute('checked')){clonedInput.checked=!0}
const observer=new MutationObserver(observerCallback);observer.observe(mediaSwitch,observerConfig)})
